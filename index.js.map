{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\nimport axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst URL_PIXABAY = \"https://pixabay.com/api/\";\nconst KEY_PIXABAY = \"49287567-80da5b96f25a95ab41aa198b2\"\n\n\nexport const queryPixabay = query => \n        axios.get(URL_PIXABAY, {\n        params: {\n        key: KEY_PIXABAY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    }\n    })\n        .then(response => {\n            \n            \n            return response.data.hits; // –ó–∞–≤–∂–¥–∏ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ø—É—Å—Ç–æ\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n            })\n            console.error(\"error: \", error);\n            throw error;\n        });","// –û–ø–∏—Å–∞–Ω–∏–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó\nimport SimpleLightbox from \"simplelightbox\";\n// –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —ñ–º–ø–æ—Ä—Ç —Å—Ç–∏–ª—ñ–≤\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst params = {\n    captionsData: 'alt',\n    captionDelay: 250,\n}\nconst galleryEl = document.querySelector(\".gallery\");\n\nlet lightbox = new SimpleLightbox('.gallery a', params);\n\nfunction clearSimpleBox() {\n    galleryEl.innerHTML = '';\n}\n\n\nexport const renderImages = images => {\n    clearSimpleBox();\n    const markup = images.map(({\n        tags,\n        webformatURL,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads }) => {\n        return `<li>\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n          <div class=\"photo-card\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" />\n            <div class=\"info\">\n              <p><b>Likes:</b> ${likes}</p>\n              <p><b>Views:</b> ${views}</p>\n              <p><b>Comments:</b> ${comments}</p>\n              <p><b>Downloads:</b> ${downloads}</p>\n            </div>\n          </div>\n        </a>\n        </li>`;   \n    }).join('');\n    galleryEl.insertAdjacentHTML('beforeend',markup);\n    lightbox.refresh();\n}\nlightbox.on('shown.simplelightbox', function () {\n    const currentLink = document.querySelector('.sl-current .sl-image').parentElement;\n\n    const likes = currentLink.dataset.likes;\n    const views = currentLink.dataset.views;\n    const comments = currentLink.dataset.comments;\n    const downloads = currentLink.dataset.downloads;\n\n    iziToast.show({\n        title: 'Image Info',\n        message: `\n            <ul >\n                <li>‚ù§Ô∏è Likes: <b>${likes}</b></li>\n                <li>üëÅÔ∏è Views: <b>${views}</b></li>\n                <li>üí¨ Comments: <b>${comments}</b></li>\n                <li>‚¨áÔ∏è Downloads: <b>${downloads}</b></li>\n            </ul>\n        `,\n        position: 'bottomRight',\n        timeout: 5000,\n        close: false,\n        progressBar: true,\n    });\n});\n\n\n// gallery.on('error.simplelightbox', function (e) {\n// \tconsole.log(e); // Some usefull information\n// });\n\n// with jQuery nearly the same\n// let gallery = $('.gallery a').simpleLightbox();\n// gallery.on('show.simplelightbox', function () {\n// \t// Do something‚Ä¶\n// });\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { queryPixabay } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\nconst formEl = document.querySelector(\"form\");\nconst inputEl = document.querySelector(\".input-form\")\nconst loaderEl = document.querySelector(\".loader\");\n\nfunction onOffLoader() {\n    loaderEl.classList.toggle('is-hidden');\n}\n\n\n\n\nformEl.addEventListener('submit', event => {\n    event.preventDefault();\n    const query = inputEl.value.trim();\n    \n    if (!query) {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'Enter a search query.',\n            position: 'topRight'\n        })\n        return;\n    }\n\n    \n    onOffLoader();\n    queryPixabay(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.info({\n                    title: 'No result',\n                    message: 'No images found. Please try a different search.',\n                    position: 'topRight',\n                });\n                onOffLoader();\n                return;\n            }\n            renderImages(images);\n            onOffLoader();\n        })\n        .catch(error => {\n            console.error(error);\n            onOffLoader();\n        });\n} )\n"],"names":["URL_PIXABAY","KEY_PIXABAY","queryPixabay","query","axios","response","error","iziToast","params","galleryEl","lightbox","SimpleLightbox","clearSimpleBox","renderImages","images","markup","tags","webformatURL","largeImageURL","likes","views","comments","downloads","currentLink","formEl","inputEl","loaderEl","onOffLoader","event"],"mappings":"owBAKA,MAAMA,EAAc,2BACdC,EAAc,qCAGPC,EAAeC,GACpBC,EAAM,IAAIJ,EAAa,CACvB,OAAQ,CACR,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACL,CAAK,EACI,KAAKE,GAGKA,EAAS,KAAK,IACxB,EACA,MAAMC,GAAS,CACZC,MAAAA,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mEACT,SAAU,UAC1B,CAAa,EACD,QAAQ,MAAM,UAAWD,CAAK,EACxBA,CAClB,CAAS,EC3BHE,EAAS,CACX,aAAc,MACd,aAAc,GAClB,EACMC,EAAY,SAAS,cAAc,UAAU,EAEnD,IAAIC,EAAW,IAAIC,EAAe,aAAcH,CAAM,EAEtD,SAASI,GAAiB,CACtBH,EAAU,UAAY,EAC1B,CAGO,MAAMI,EAAeC,GAAU,CAClCF,IACA,MAAMG,EAASD,EAAO,IAAI,CAAC,CACvB,KAAAE,EACA,aAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,KACO;AAAA,wCACyBJ,CAAa;AAAA;AAAA,wBAE7BD,CAAY,UAAUD,CAAI;AAAA;AAAA,iCAEjBG,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,cAKzC,EAAE,KAAK,EAAE,EACVb,EAAU,mBAAmB,YAAYM,CAAM,EAC/CL,EAAS,QAAO,CACpB,EACAA,EAAS,GAAG,uBAAwB,UAAY,CAC5C,MAAMa,EAAc,SAAS,cAAc,uBAAuB,EAAE,cAE9DJ,EAAQI,EAAY,QAAQ,MAC5BH,EAAQG,EAAY,QAAQ,MAC5BF,EAAWE,EAAY,QAAQ,SAC/BD,EAAYC,EAAY,QAAQ,UAEtC,SAAS,KAAK,CACV,MAAO,aACP,QAAS;AAAA;AAAA,mCAEkBJ,CAAK;AAAA,oCACJC,CAAK;AAAA,sCACHC,CAAQ;AAAA,uCACPC,CAAS;AAAA;AAAA,UAGxC,SAAU,cACV,QAAS,IACT,MAAO,GACP,YAAa,EACrB,CAAK,CACL,CAAC,EC/DD,MAAME,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,GAAc,CACnBD,EAAS,UAAU,OAAO,WAAW,CACzC,CAKAF,EAAO,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMzB,EAAQsB,EAAQ,MAAM,KAAI,EAEhC,GAAI,CAACtB,EAAO,CACRI,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,wBACT,SAAU,UACtB,CAAS,EACD,MACH,CAGDoB,IACAzB,EAAaC,CAAK,EACb,KAAKW,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBP,EAAS,KAAK,CACV,MAAO,YACP,QAAS,kDACT,SAAU,UAC9B,CAAiB,EACDoB,IACA,MACH,CACDd,EAAaC,CAAM,EACnBa,GACZ,CAAS,EACA,MAAMrB,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBqB,GACZ,CAAS,CACT,CAAC"}